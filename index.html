<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hilyte FTP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/index.css">
  </head>
  <body>
    <header id="header">
      <nav class="menu-bar">
        <div class="menu-item" data-menu="file">
          <span class="menu-label">File</span>
          <div class="menu-dropdown">
            <button data-action="upload-file"><span class="menu-shortcut-label">Upload File</span><span class="menu-shortcut">Ctrl+U</span></button>
            <button data-action="upload-folder"><span class="menu-shortcut-label">Upload Folder</span></button>
            <button data-action="create-folder"><span class="menu-shortcut-label">Create Folder</span><span class="menu-shortcut">Ctrl+Shift+N</span></button>
            <div class="menu-divider"></div>
            <button data-action="delete-selected"><span class="menu-shortcut-label">Delete Selected</span><span class="menu-shortcut">Del</span></button>
            <div class="menu-divider"></div>
            <button data-action="refresh"><span class="menu-shortcut-label">Refresh</span><span class="menu-shortcut">F5</span></button>
            <button data-action="new-panel"><span class="menu-shortcut-label">New Explorer Panel</span></button>
          </div>
        </div>
        <div class="menu-item" data-menu="edit">
          <span class="menu-label">Edit</span>
          <div class="menu-dropdown">
            <button data-action="copy-selected"><span class="menu-shortcut-label">Copy Selected</span><span class="menu-shortcut">Ctrl+C</span></button>
            <button data-action="paste-selected"><span class="menu-shortcut-label">Paste</span><span class="menu-shortcut">Ctrl+V</span></button>
            <button data-action="cut-selected"><span class="menu-shortcut-label">Cut Selected</span><span class="menu-shortcut">Ctrl+X</span></button>
            <div class="menu-divider"></div>
            <button data-action="select-all"><span class="menu-shortcut-label">Select All</span><span class="menu-shortcut">Ctrl+A</span></button>
            <button data-action="deselect-all"><span class="menu-shortcut-label">Deselect All</span><span class="menu-shortcut">Esc</span></button>
          </div>
        </div>
        <div class="menu-item" data-menu="view">
          <span class="menu-label">View</span>
          <div class="menu-dropdown">
            <button data-action="toggle-quick-actions" class="toggle-item active"><span class="menu-check">✓</span><span class="menu-shortcut-label">Show Quick Actions</span></button>
            <button data-action="toggle-file-size" class="toggle-item active"><span class="menu-check">✓</span><span class="menu-shortcut-label">Show File Size</span></button>
            <button data-action="toggle-extensions" class="toggle-item active"><span class="menu-check">✓</span><span class="menu-shortcut-label">Show Extensions</span></button>
            <div class="menu-divider"></div>
            <button data-action="expand-all"><span class="menu-shortcut-label">Expand All Folders</span></button>
            <button data-action="collapse-all"><span class="menu-shortcut-label">Collapse All Folders</span></button>
            <div class="menu-divider"></div>
            <div class="menu-submenu">
              <button class="submenu-trigger"><span class="menu-shortcut-label">Sort By</span><span class="menu-arrow">›</span></button>
              <div class="submenu-dropdown">
                <button data-action="sort-name" class="toggle-item active"><span class="menu-check">✓</span><span class="menu-shortcut-label">Name</span></button>
                <button data-action="sort-size" class="toggle-item"><span class="menu-check">✓</span><span class="menu-shortcut-label">Size</span></button>
                <button data-action="sort-type" class="toggle-item"><span class="menu-check">✓</span><span class="menu-shortcut-label">Type</span></button>
                <div class="menu-divider"></div>
                <button data-action="sort-asc" class="toggle-item active"><span class="menu-check">✓</span><span class="menu-shortcut-label">Ascending</span></button>
                <button data-action="sort-desc" class="toggle-item"><span class="menu-check">✓</span><span class="menu-shortcut-label">Descending</span></button>
              </div>
            </div>
          </div>
        </div>
        <div class="menu-item" data-menu="options">
          <span class="menu-label">Options</span>
          <div class="menu-dropdown">
            <button data-action="change-credentials"><span class="menu-shortcut-label">Change Credentials</span></button>
            <button data-action="preferences"><span class="menu-shortcut-label">Preferences</span></button>
          </div>
        </div>
      </nav>
      <div class="header-spacer"></div>
      <div class="header-right">
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="M21 21l-4.35-4.35"/>
          </svg>
          <input type="text" id="searchInput" placeholder="Search files..." autocomplete="off">
          <kbd class="search-hint">/</kbd>
        </div>
      </div>
    </header>
    <main id="workzone"></main>
    <div id="uploadModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3>Upload Files</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div id="dropZone" class="drop-zone">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="17,8 12,3 7,8"/>
              <line x1="12" y1="3" x2="12" y2="15"/>
            </svg>
            <p>Drop files here or click to browse</p>
            <input type="file" id="fileInput" multiple>
          </div>
          <div class="upload-path-row">
            <label for="uploadPath">Upload to:</label>
            <input type="text" id="uploadPath" placeholder="/" value="/">
          </div>
          <div id="uploadQueue" class="upload-queue"></div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-close>Cancel</button>
          <button class="btn btn-primary" id="btnConfirmUpload">Upload</button>
        </div>
      </div>
    </div>
    <div id="folderModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-sm">
        <div class="modal-header">
          <h3>Create Folder</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="folderPath">Folder Path:</label>
            <input type="text" id="folderPath" placeholder="path/to/folder">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-close>Cancel</button>
          <button class="btn btn-primary" id="btnConfirmFolder">Create</button>
        </div>
      </div>
    </div>
    <div id="deleteModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-sm">
        <div class="modal-header">
          <h3>Confirm Delete</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete <strong id="deleteTarget"></strong>?</p>
          <p class="text-muted">This action cannot be undone.</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-close>Cancel</button>
          <button class="btn btn-danger" id="btnConfirmDelete">Delete</button>
        </div>
      </div>
    </div>
    <div id="authModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-sm modal-branded">
        <div class="modal-watermark">
          <svg class="hilyte-logo" viewBox="0 0 100 120" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M15 10 L15 95 Q15 105 25 105 L75 105 Q85 105 85 95 L85 30 L65 10 L25 10 Q15 10 15 20 Z"/>
            <path d="M65 10 L65 30 L85 30"/>
            <rect x="20" y="75" width="25" height="20" rx="3"/>
            <text x="30" y="58" font-family="Space Grotesk, sans-serif" font-size="28" font-weight="600" fill="currentColor" stroke="none">Hy</text>
          </svg>
        </div>
        <div class="modal-header">
          <h3>Set Credentials</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <p class="auth-desc">Enter your credentials for file operations.</p>
          <div class="form-group">
            <label for="authUser">Username:</label>
            <input type="text" id="authUser" autocomplete="username">
          </div>
          <div class="form-group">
            <label for="authPass">Password:</label>
            <input type="password" id="authPass" autocomplete="current-password">
          </div>
          <div class="auth-status-row">
            <span class="auth-status-label">Status:</span>
            <span id="authStatusText" class="auth-status-value pending">Not verified</span>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-close>Cancel</button>
          <button class="btn btn-primary" id="btnConfirmAuth">Save</button>
        </div>
      </div>
    </div>
    <div id="prefsModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-branded">
        <div class="modal-watermark">
          <svg class="hilyte-logo" viewBox="0 0 100 120" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M15 10 L15 95 Q15 105 25 105 L75 105 Q85 105 85 95 L85 30 L65 10 L25 10 Q15 10 15 20 Z"/>
            <path d="M65 10 L65 30 L85 30"/>
            <rect x="20" y="75" width="25" height="20" rx="3"/>
            <text x="30" y="58" font-family="Space Grotesk, sans-serif" font-size="28" font-weight="600" fill="currentColor" stroke="none">Hy</text>
          </svg>
        </div>
        <div class="modal-header">
          <h3>Preferences</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body prefs-body">
          <div class="prefs-section">
            <h4>View Options</h4>
            <label class="pref-toggle">
              <input type="checkbox" id="prefShowQuickActions" checked>
              <span class="pref-toggle-slider"></span>
              <span class="pref-label">Show Quick Actions</span>
            </label>
            <label class="pref-toggle">
              <input type="checkbox" id="prefShowFileSize" checked>
              <span class="pref-toggle-slider"></span>
              <span class="pref-label">Show File Size</span>
            </label>
            <label class="pref-toggle">
              <input type="checkbox" id="prefShowExtensions" checked>
              <span class="pref-toggle-slider"></span>
              <span class="pref-label">Show File Extensions</span>
            </label>
            <label class="pref-toggle">
              <input type="checkbox" id="prefAutoRefresh" checked>
              <span class="pref-toggle-slider"></span>
              <span class="pref-label">Auto Refresh (5s)</span>
            </label>
          </div>
          <div class="prefs-section">
            <h4>Authentication</h4>
            <label class="pref-toggle">
              <input type="checkbox" id="prefBackgroundAuth" checked>
              <span class="pref-toggle-slider"></span>
              <span class="pref-label">Background Credential Check</span>
            </label>
            <button class="btn btn-secondary btn-full" id="btnChangeCredsFromPrefs">Change Credentials</button>
          </div>
          <div class="prefs-section prefs-danger">
            <h4>Danger Zone</h4>
            <p class="prefs-warning">This will permanently delete all files on the server.</p>
            <button class="btn btn-danger btn-full" id="btnDeleteEverything">Delete Everything</button>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" data-close>Done</button>
        </div>
      </div>
    </div>
    <div id="deleteAllModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-content modal-sm">
        <div class="modal-header">
          <h3>Delete Everything</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <p class="delete-all-warning">This will permanently delete ALL files and folders!</p>
          <p>Re-enter your credentials to confirm:</p>
          <div class="form-group">
            <label for="deleteAllUser">Username:</label>
            <input type="text" id="deleteAllUser" autocomplete="off">
          </div>
          <div class="form-group">
            <label for="deleteAllPass">Password:</label>
            <input type="password" id="deleteAllPass" autocomplete="off">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-close>Cancel</button>
          <button class="btn btn-danger" id="btnConfirmDeleteAll">Delete Everything</button>
        </div>
      </div>
    </div>
    <div id="contextMenu" class="context-menu">
      <button data-action="open"><span class="ctx-icon"></span> Open</button>
      <button data-action="open-panel"><span class="ctx-icon">⧉</span> Open in New Panel</button>
      <div class="ctx-divider"></div>
      <button data-action="copy"><span class="ctx-icon"></span> Copy</button>
      <button data-action="cut"><span class="ctx-icon"></span> Cut</button>
      <button data-action="paste"><span class="ctx-icon"></span> Paste Here</button>
      <div class="ctx-divider"></div>
      <button data-action="download"><span class="ctx-icon"></span> Download</button>
      <button data-action="copy-link"><span class="ctx-icon"></span> Copy Link</button>
      <div class="ctx-divider"></div>
      <button data-action="delete" class="ctx-danger"><span class="ctx-icon"></span> Delete</button>
    </div>
    <div id="toastContainer"></div>
    <div id="fileListData" style="display:none;"><!-- FILELIST --></div>
    <div class="drag-overlay" id="dragOverlay">
      <div class="drag-overlay-content">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
          <polyline points="17,8 12,3 7,8"/>
          <line x1="12" y1="3" x2="12" y2="15"/>
        </svg>
        <p>Drop files to upload</p>
      </div>
    </div>
    <div id="statusBar">
      <div class="status-left">
        <span id="selectionStatus">No selection</span>
      </div>
      <div class="status-right">
        <span id="clipboardStatus"></span>
        <span id="authIndicator" class="auth-indicator pending" title="Click to change credentials">
          <span class="auth-dot"></span>
          <span class="auth-text">Auth</span>
        </span>
      </div>
    </div>
    <script src="/static/index.js"></script>
  </body>
</html>
